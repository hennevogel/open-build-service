- @pagetitle = "Build Info for #{@project} / #{@package_name}"

.card
  = render partial: 'webui/package/tabs', locals: { project: @project, package: @package }
  .card-body
    %h3
      = @pagetitle
    %h6.subtitle
      Repository / Architecture: #{@repository.name} / #{@architecture}
    %p
      %div
        %strong Error Message
        %div#build-info-error-message
        %br
        %strong Direct dependencies
        %div#build-info-direct-dependencies
        %br
        %strong Chained dependencies
        %div#build-info-chained-dependencies

      %br
      %div
        #show-raw-data show raw data
        %code#build-info-raw-data.collapsed
          = @buildinfo

:javascript
  normalizeData();
  $('#show-raw-data').on('click', function() {
    $('#build-info-raw-data').toggleClass('collapsed');
    $('#build-info-raw-data').hasClass('collapsed') ?
      $(this).text('show raw data') :
      $(this).text('hide raw data');
  });