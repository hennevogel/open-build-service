- @pagetitle = "Build Info for #{@project} / #{@package_name}"

.card
  = render partial: 'webui/package/tabs', locals: { project: @project, package: @package }
  .card-body
    %h3
      = @pagetitle

    %p
      .card
        .card-header
          %h5 Build Summary
        .card-body
          %div
            %strong Package name:
            #{@package.name}
          %div
            %strong Package description:
            #{@package.description}
          %div
            %strong Repository:
            .badge.badge-secondary #{@repository.name}
          %div
            %strong Architecture:
            .badge.badge-primary #{@architecture}
          %div
            %strong Required Packages directly:
            %span#count-direct-dependencies
          %div
            %strong Required Packages in total:
            %span#count-total-dependencies
          %div
            %strong Project/Repositories used:
            5
          %div
            %strong Errors:
            %span#error-message.alert-error unresolvable: nothing provides _package_name_

    %p
      .card
        .card-header
          %h5 Projects / Sources
        .card-body#sources
          %div
            .font-weight-bold - openSUSE.org:SUSE:SLE-15-SP3:GA/pool
            %ul
              %li perl:libc.so.6(GLIBC_2.2.5)(64bit)
              %li perl:libc.so.6(GLIBC_2.4)(64bit)
              %li perl:libc.so.6(GLIBC_2.3)(64bit)
              %li perl:libpthread.so.0(GLIBC_2.3.2)(64bit)
              %li rpm-build:libc.so.6()(64bit)
              %li rpm-build:libc.so.6(GLIBC_2.3)(64bit)

          %div
            .font-weight-bold - openSUSE.org:SUSE:SLE-15-SP2:Update/pool-leap-15.3
            %ul
              %li perl:libc.so.6(GLIBC_2.2.5)(64bit)
              %li perl:libc.so.6(GLIBC_2.4)(64bit)
              %li perl:libc.so.6(GLIBC_2.3)(64bit)

          %div
            .font-weight-bold + openSUSE.org:SUSE:SLE-15:Update/pool-leap-15.3

          %div
            .font-weight-bold + openSUSE.org:SUSE:SLE-15-SP1:Update/pool-leap-15.3

          %div
            .font-weight-bold - openSUSE.org:SUSE:SLE-15:GA/pool
            %ul
              %li rpm-build:file
              %li rpm-build:binutils


    %p
      %div
        %strong Direct dependencies
        %div#build-info-direct-dependencies
        %br
        %strong Chained dependencies
        %div#build-info-chained-dependencies

      %br
      %div
        #show-raw-data show raw data
        %code#build-info-raw-data.collapsed
          = @buildinfo

:javascript
  normalizeData();
  $('#show-raw-data').on('click', function() {
    $('#build-info-raw-data').toggleClass('collapsed');
    $('#build-info-raw-data').hasClass('collapsed') ?
      $(this).text('show raw data') :
      $(this).text('hide raw data');
  });