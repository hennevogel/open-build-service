:ruby
  @pagetitle = 'Configuration'

.card.mb-3
  = render partial: 'tabs'
  .card-body
    %h3 Configure your Open Build Service instance
    = form_for(@configuration, url: { action: :update }) do |f|
      .h5.mt-4 Frontpage Greeting
      %p Change the text that is displayed as greeting on the frontpage.
      .mb-3
        = f.label(:title) do
          Title
          %abbr.text-danger{ title: 'required' } *
        = f.text_field :title, required: true, autofocus: true, class: 'form-control'
      .mb-3
        = f.label(:description) do
          Description
          %abbr.text-danger{ title: 'required' } *
        ~ f.text_area :description, rows: 7, required: true, class: 'form-control'
      .mb-3
        = f.label(:logo) do
          Logo
          %small.form-text The image displayed on the left side of the top navigation bar.
        ~ f.file_field :logo, class: 'form-control'
      .mb-3
        = f.label(:tos_url) do
          Terms Of Service URL
        ~ f.text_field :tos_url, class: 'form-control', type: :url
      .mb-3
        = f.label(:code_of_conduct) do
          Code of Conduct
          %small.form-text Leave this field blank to prevent from showing the "Code of Conduct" link at the footer of the page.
        ~ f.text_area :code_of_conduct, rows: 7, class: 'form-control'

      .h5.mt-4 Contact Information
      %p
        Allows you to provide a link to a contact form, ticketing system or an email (prefixed with mailto:)
        that will allow users to contact you about creating Projects and creating Staging Manager Groups.
      .mb-3
        .row.g-3.align-items-center
          .col
            = f.label :contact_name, 'Contact Name'
            ~ f.text_field :contact_name, class: 'form-control'
          .col
            = f.label :contact_name, 'Contact URL'
            ~ f.text_field :contact_url, class: 'form-control'

      .h5.mt-4 Base Configuration
      %p
        %i.fas.fa-exclamation-triangle.text-warning
        Backend restart is needed after a change here.
      .mb-3
        = f.label(:name) do
          Name
          %abbr.text-danger{ title: 'required' } *
          %small.form-text The instance name which gets generated into each package. Short string only, no white spaces recommended.
        = f.text_field :name, required: true, class: 'form-control'
      .mb-3
        = f.label(:unlisted_projects_filter_description) do
          Unlisted projects filter description
          %small.form-text The description that will appear in projects list for explaining the exclusion filter.
        = f.text_field :unlisted_projects_filter_description, class: 'form-control'
      .mb-3
        = f.label(:unlisted_projects_filter) do
          Unlisted projects filter
          %small.form-text The exclusion filter itself. It is a Regular Expression (eg: ^home:.*).
        = f.text_field :unlisted_projects_filter, class: 'form-control'

      = f.submit 'Update', class: 'btn btn-primary'
